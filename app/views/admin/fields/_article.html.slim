
- allow = policy(record)

= draftable_field f, :category, type: :association do |value|
  - f.association :category, label: false, disabled: !allow.update_structure?, selected: value

= draftable_field f, :priority, type: :collection do |value|
  - f.input_field :priority, collection: Article.priorities.map {|k, v| [human_enum_name(Article, :priority, k), k]}, selected: value, disabled: !allow.update_structure?

= draftable_media_field f, :banner_id, preview: true
= draftable_media_field f, :thumbnail_id, preview: true
= draftable_media_field f, :video_id, type: :video

= draftable_date_field f
= draftable_field f, :excerpt, type: :text do |value|
  - f.input_field :excerpt, as: :text, rows: 3, value: value

= render 'admin/media_files/library', page: record
