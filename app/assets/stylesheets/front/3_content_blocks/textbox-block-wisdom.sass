@import "../../mixins/*"

$top-padding: 120px

.content__textbox--wisdom
  margin-bottom: 90px

  @include tablet
    margin-top: 150px

  @include laptop-or-larger
    background-image: image-url('content/ancient-wisdom.jpg')
    background-size: cover
    background-position: center
    margin-top: 135px
    margin-bottom: 0
    z-index: 0 // This is necessary to make the content__textbox__graphic visible

  &:after
    clear: both
    content: ''
    display: block

// ===== CONTENT ===== //
.content__textbox--wisdom .content__textbox
  &__box_wrapper
    position: relative

    @include tablet
      max-width: $narrow-content-width
      margin: auto

    @include laptop-or-larger
      padding-top: $top-padding
      padding-bottom: 50px

  &__box
    @include tablet
      padding: 25px 100px

  &__wisdom-gradient
    opacity: 0.75

  &__sidetext
    @include laptop-or-larger
      top: $top-padding

  &__graphic
    display: none

    @include laptop-or-larger
      display: block
      position: absolute
      top: 0
      height: 100%
      width: 100%
      max-width: 1000px
      z-index: -1
      opacity: 0.8

      $minimum-fade: rgba(0,0,0,0.4)
      mask-image: linear-gradient(to top right, $minimum-fade, $minimum-fade 50%, white)

  &__image
    margin-bottom: 36px

    @include laptop-or-larger
      margin-top: $top-padding + 154px
      margin-bottom: 54px
      width: 40%

  &__img
    width: 100%

  &__img img
    @include laptop-or-larger
      height: auto
      width: 100%

  &__title
    font-size: 2.4rem
    
    @include laptop-or-larger
      position: absolute
      margin: 0
      font-weight: $font-normal
      font-size: 3.5rem

  &__text > p:first-child
    margin-top: 0

// ===== ALIGNED ===== //
.content__textbox--wisdom.content__textbox
  @each $side in left right
    $opposite: if($side == right, left, right)

    &--#{$side}
      .content__textbox__graphic
        $translate_y: if($side == right, -15.75%, 15.75%)
        #{$side}: 0
        transform: translate(42%, $translate_y)

      .content__textbox__title
        @include laptop-or-larger
          #{$opposite}: 0

      .content__textbox__text
        @include tablet
          margin-#{$side}: 36px

        @include laptop-or-larger
          @if $side == right
            padding-#{$side}: 100px
            padding-#{$opposite}: 35%
          @else
            padding-#{$opposite}: 40%

      .content__textbox__image
        margin-#{$opposite}: -$gutter-width

        @include laptop-or-larger
          float: $opposite
          margin-#{$side}: 54px
          margin-#{$opposite}: 0
